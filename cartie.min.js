(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory)}else if(typeof exports==='object'){factory(require('jquery'))}else{factory(jQuery)}}(function($){var pluses=/\+/g;function encode(s){return config.raw?s:encodeURIComponent(s)}
function decode(s){return config.raw?s:decodeURIComponent(s)}
function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value))}
function parseCookieValue(s){if(s.indexOf('"')===0){s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\')}
try{s=decodeURIComponent(s.replace(pluses,' '));return config.json?JSON.parse(s):s}catch(e){}}
function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value}
function cookieManage(key,value,options){if(arguments.length>1&&!$.isFunction(value)){options=$.extend({},config.defaults,options);if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setTime(+t+days*864e+5)}
return(document.cookie=[encode(key),'=',stringifyCookieValue(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''))}
var result=key?undefined:{};var cookies=document.cookie?document.cookie.split('; '):[];for(var i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split('=');var name=decode(parts.shift());var cookie=parts.join('=');if(key&&key===name){result=read(cookie,value);break}
if(!key&&(cookie=read(cookie))!==undefined){result[name]=cookie}}
return result}
function calculateCart(){var totalPrice=0;var items=config.cart.items;for(var index in items){totalPrice+=items[index].price*items[index].qty}
return Math.ceil(totalPrice*100)/100}
var config=$.cartie=function(action,options){options=(options=="undefined"?{}:options);var result=!1;if(typeof(action)==="object"){for(var index in action){config.defaults[index]=action[index];if(index=="currency"){config.cart.currency=action.currency}}
result=!0}else{switch(action){case "default":result=config.defaults[options.option];break;case "items":return config.cart.items;break;case "totalProduct":result=config.cart.items.length;break;case "totalPrice":result=config.cart.total;break;case "add":result=!0;var alreadyInCart=!1;var items=config.cart.items;for(var index in items){if(items[index].id==options.id){config.cart.items[index].qty+=parseInt(options.qty);alreadyInCart=!0}}
if(!alreadyInCart){if(options.id!==undefined&&options.price!==undefined){config.cart.items.push({id:options.id,qty:parseInt(options.qty===undefined?0:options.qty),price:parseFloat(options.price),name:options.name,image:options.image,description:options.description})}else{result=!1}}
config.cart.total=calculateCart();break;case "remove":var items=config.cart.items;for(var index in items){if(items[index].id==options.id){config.cart.items[index].qty-=options.qty;if(config.cart.items[index].qty<1){config.cart.items.splice(index,1)}}}
config.cart.total=calculateCart();result=!0;break;case "clear":config.cart={items:[],total:0,currency:config.defaults.currency}
return!0;break;default:break}}
cookieManage("cartie",JSON.stringify(config.cart));return result};config.defaults={currency:"USD"};config.cart={items:[],total:0,currency:config.defaults.currency}
try{var cartTMP=cookieManage("cartie");cartTMP=JSON.parse(cartTMP);if(typeof(cartTMP)==="object"){config.cart=cartTMP}}catch(e){cookieManage("cartie",JSON.stringify(config.cart))}}))
